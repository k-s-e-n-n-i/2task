include ~@Blocks/link/link.pug
include ~@Blocks/dropdown/dropdownBlock.pug
include ~@Blocks/dropdown/dropdownDates.pug
include ~@Blocks/btn/btn.pug

mixin formReservation(obj)
  form.form-reservation
    div.form-reservation__block
      p
        span= "№ "
        span= obj.number +" "
        +link(
          {
            text : "люкс",
            url : '#',
            type : "lux"
          }
        )
      p
        span= obj.priceFrom
        span= "₽"
        span= " в сутки"

    +dropdownDates(
      { 
        topic : "Прибытие",
        activeText : "19.08.2019",
      },
      { 
        topic : "Выезд",
        activeText : "23.08.2019",
      }
    ) 

    +dropdownBlock(
      { 
        name : "guests",
        topic : "Гости",
        label : "",
        activeText : "3 гостя",
        state : "close",
        btnClean : true,
        btnOk : true
      },
      {
        text : "взрослые",
        qty : 3,
        minus : "active",
        plus : "active"
      },
      {
        text : "дети",
        qty : 0,
        minus : "disable",
        plus : "active"
      },
      {
        text : "младенцы",
        qty : 0,
        minus : "disable",
        plus : "active"
      }    
    )  

    +formReservation__blockPrices(
      {
        textPrice : "9 990₽ х 4 суток",
        sumPrice : "39 960",
        iconInfo : false
      },
      {
        textPrice : "Сбор за услуги: скидка <span>2 179₽</span>",
        sumPrice : "0",
        iconInfo : true
      },
      {
        textPrice : "Сбор за доп. услуги",
        sumPrice : "300",
        iconInfo : true
      }
    )

    div.form-reservation__block
      h2= "Итого"
      span.form-reservation__dashed
      h2= obj.priceFinal +"₽"

    +btn(
      {
        text : "Забронировать",
        link : "#",
        arrow : true,
        border: false,
        hover: false
      }
    )


mixin formReservation__blockPrices(...items)
  div.form-reservation__block-prices
    each item in items
      div.form-reservation__line-price
        div.form-reservation__text-price
          p !{item.textPrice}
          if item.iconInfo == true
            div.form-reservation__icon-info-price i
        p= item.sumPrice +"₽"