include ~@Blocks/link/link.pug
include ~@Blocks/dropdown/dropdown.pug
include ~@Blocks/dropdown-dates/dropdown-dates.pug
include ~@Blocks/btn/btn.pug

mixin formReservation(obj)
  form.form-reservation
    .form-reservation__block
      .form-reservation__number
        span= "№ "
        span= obj.number +" "
        .form-reservation__link-lux
          +link(
            {
              text : "люкс",
              url : '#',
              type : "lux"
            }
          )
      .form-reservation__number-price
        span= obj.priceFrom
        span= "₽"
        span= " в сутки"

    .form-reservation__dropdown-dates
      +dropdownDates(
        { 
          topic : "Прибытие",
          activeText : "19.08.2019",
        },
        { 
          topic : "Выезд",
          activeText : "23.08.2019",
        }
      ) 

    +dropdown(
      { 
        name : "guests",
        topic : "Гости",
        label : "",
        activeText : "3 гостя",
        state : "close",
        btnClean : true,
        btnOk : true
      },
      {
        text : "взрослые",
        qty : 3,
        minus : "active",
        plus : "active"
      },
      {
        text : "дети",
        qty : 0,
        minus : "disable",
        plus : "active"
      },
      {
        text : "младенцы",
        qty : 0,
        minus : "disable",
        plus : "active"
      }    
    )  

    +formReservation__blockPrices(
      {
        textPrice : "9 990₽ х 4 суток",
        sumPrice : "39 960",
        iconInfo : false
      },
      {
        textPrice : "Сбор за услуги: скидка <span>2 179₽</span>",
        sumPrice : "0",
        iconInfo : true
      },
      {
        textPrice : "Сбор за доп. услуги",
        sumPrice : "300",
        iconInfo : true
      }
    )

    .form-reservation__block
      h2= "Итого"
      span.form-reservation__dashed
      h2= obj.priceFinal +"₽"

    .form-reservation__btn
      +btn(
        {
          text : "Забронировать",
          arrow : true,
        }
      )


mixin formReservation__blockPrices(...items)
  .form-reservation__block-prices
    each item in items
      .form-reservation__line-price
        .form-reservation__text-price
          p !{item.textPrice}
          if item.iconInfo == true
            .form-reservation__icon-info-price i
        p= item.sumPrice +"₽"